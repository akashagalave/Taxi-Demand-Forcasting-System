schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 597834a6bf7f7128b2f287fa73de1547
      size: 3611
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: ef7d4f0e5861bc6fe95328df6d9abdf6
      size: 4830
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 12
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 82edd20eae09320914db9af99a8367ce
      size: 8492403
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: f4c35ef38cf727f2a0597ea9d86ea9dd
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: 70e5f14cbcc882d077c64376f4ce3e83
      size: 951
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 82edd20eae09320914db9af99a8367ce
      size: 8492403
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: d2420514bf90c13c57a2ee5a0a8ba700
      size: 2539
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 915b84b33e237605e9faae1f94ca9775
      size: 5001166
    - path: ./data/processed/train.csv
      hash: md5
      md5: 8ee24154cfa23a6dffccf960ba8308ca
      size: 9631620
  train_model:
    cmd: python ./src/model/train_model.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 8ee24154cfa23a6dffccf960ba8308ca
      size: 9631620
    - path: ./src/model/train_model.py
      hash: md5
      md5: ba47377f0341504d8b0c8518e63a5cda
      size: 2314
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 276e32d784523cc73104b7311eccfaae
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 09f7e007c56b303e2a511b55f2e4a74a
      size: 2153
  evaluation:
    cmd: python ./src/model/evaluation.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 915b84b33e237605e9faae1f94ca9775
      size: 5001166
    - path: ./data/processed/train.csv
      hash: md5
      md5: 8ee24154cfa23a6dffccf960ba8308ca
      size: 9631620
    - path: ./models/encoder.joblib
      hash: md5
      md5: 276e32d784523cc73104b7311eccfaae
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 09f7e007c56b303e2a511b55f2e4a74a
      size: 2153
    - path: ./src/model/evaluation.py
      hash: md5
      md5: 8f93079d5dc6eac9c875df76764a6d08
      size: 4420
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 6c060df2a41ab699ae95c776e576914c
      size: 175
  register_model:
    cmd: python ./src/model/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 6c060df2a41ab699ae95c776e576914c
      size: 175
    - path: ./src/model/register_model.py
      hash: md5
      md5: f0989f344b5f9f80f5e2b54ffc14d052
      size: 2521
